<launch>
    <arg name="chassis_type" default="swerve"/>
    <arg name="use_joy_control" default="false"/>
    <arg name="use_laserscan_convert" default="true"/>
    <arg name="use_ransac" default="true"/>
    <arg name="occupancy_grid_resolution" default="0.05"/>
    <arg name="merged_lidar_publish_frequency" default="40.0"/>

    <arg name="chassis_param_path" default="$(find-pkg-share nhk2025_sample)/config/chassis/swerve.yaml"/>
    <arg name="line_segments_path" default="$(find-pkg-share nhk2025_sample)/config/map/line_segments.csv"/>
    <arg name="circles_path" default="$(find-pkg-share nhk2025_sample)/config/map/circles.csv"/>
    <arg name="footprint_param_path" default="$(find-pkg-share nhk2025_sample)/config/footprint.yaml"/>
    <arg name="lidar_param_path" default="$(find-pkg-share nhk2025_sample)/config/lidar.yaml"/>
    <arg name="control_param_path" default="$(find-pkg-share nhk2025_sample)/config/control.yaml"/>
    <arg name="planning_param_path" default="$(find-pkg-share nhk2025_sample)/config/planning.yaml"/>
    <arg name="localization_param_path" default="$(find-pkg-share nhk2025_sample)/config/localization.yaml"/>
    <arg name="simulation_param_path" default="$(find-pkg-share nhk2025_sample)/config/simulation.yaml"/>

    <include file="$(find-pkg-share natto_launch)/launch/natto.launch.xml">
        <arg name="chassis_type" value="$(var chassis_type)"/>
        <arg name="use_odom_tf" value="false"/>
        <arg name="use_joy_control" value="$(var use_joy_control)"/>
        <arg name="use_laserscan_convert" value="$(var use_laserscan_convert)"/>
        <arg name="use_ransac" value="$(var use_ransac)"/>
        <arg name="occupancy_grid_resolution" value="$(var occupancy_grid_resolution)"/>
        <arg name="merged_lidar_publish_frequency" value="$(var merged_lidar_publish_frequency)"/>
        <arg name="chassis_param_path" value="$(var chassis_param_path)"/>
        <arg name="line_segments_path" value="$(var line_segments_path)"/>
        <arg name="circles_path" value="$(var circles_path)"/>
        <arg name="footprint_param_path" value="$(var footprint_param_path)"/>
        <arg name="lidar_param_path" value="$(var lidar_param_path)"/>
        <arg name="control_param_path" value="$(var control_param_path)"/>
        <arg name="planning_param_path" value="$(var planning_param_path)"/>
        <arg name="localization_param_path" value="$(var localization_param_path)"/>
        <arg name="simulation_param_path" value="$(var simulation_param_path)"/>
    </include>

    <!-- TF -->
    <node pkg="tf2_ros" exec="static_transform_publisher" name="base_link_to_lidar_front" output="screen"
        args="+0.4 0 0 0 0 0 1 base_link lidar_front"/>
    <node pkg="tf2_ros" exec="static_transform_publisher" name="base_link_to_lidar_rear" output="screen"
        args="-0.4 0 0 0 0 1 0 base_link lidar_rear"/>
</launch>