<?xml version="1.0"?>
<launch>
    <arg name="line_segments_path" default="$(find-pkg-share nhk2025_sample)/config/map/line_segments.csv"/>
    <arg name="circles_path" default="$(find-pkg-share nhk2025_sample)/config/map/circles.csv"/>
    <arg name="occupancy_grid_resolution" default="0.05"/>
    <arg name="footprint_param_path" default="$(find-pkg-share nhk2025_sample)/config/footprint.yaml"/>

    <node_container pkg="rclcpp_components" exec="component_container" name="common_container" namespace="/common">
        <composable_node pkg="natto_map" plugin="map_loader::map_loader" name="map_loader" namespace="/common">
            <param name="line_segments_path" value="$(var line_segments_path)"/>
            <param name="circles_path" value="$(var circles_path)"/>
        </composable_node>

        <composable_node pkg="natto_map" plugin="map_converter::map_converter" name="map_converter" namespace="/common">
            <param name="resolution" value="$(var occupancy_grid_resolution)"/>
        </composable_node>

        <composable_node pkg="natto_visualization_converter" plugin="footprint_publisher::footprint_publisher" name="footprint_publisher" namespace="/common">
            <param from="$(var footprint_param_path)"/>
        </composable_node>
    </node_container>
</launch>
